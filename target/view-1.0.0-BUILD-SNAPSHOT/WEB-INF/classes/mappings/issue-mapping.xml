<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="IssueDAO">
	<!--  이슈 등록  -->
    <insert id="insertIssue">
    	insert into issue (issueId, projectId, userId, taskId, title, category, status, count, content, sendingEmail)
    	values (#{issueId}, #{projectId}, #{userId}, #{taskId}, #{title}, #{category}, #{status}, #{count}, #{content}, #{sendingEmail});
    </insert>
    <!--  이슈 목록 -->
	<select id="issueList" resultType="Issue">
		SELECT i.title, i.status, i.date, u.name
		FROM issue i
		JOIN user u ON i.userId = u.id
		WHERE i.projectId = #{projectId};
	</select>
	
    <!-- 아이디찾기 - 정보확인 -->
    <!-- <select id="getUserIdByEmail" resultType="User">
        select * from user where name=#{name} and email=#{email}
    </select> -->

    <!-- 비밀번호찾기 - 정보확인 -->
    <!-- <select id="getUserPwByEmail" resultType="User">
        select * from user where id=#{id} and email=#{email}
    </select> -->
</mapper>